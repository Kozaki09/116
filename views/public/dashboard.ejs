<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Book Dashboard</title>
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/css/general.css">
    <link rel="stylesheet" href="/css/dashboard.css">
    <link rel="stylesheet" href="/css/modal.css">
    <!-- Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>
    <!-- Sidebar -->
    <div id="sidebar-container"><%- include('../partials/sidebar') %></div>

    <!-- Main Content -->
    <div class="content">
        <h1>My Book Library</h1>

        <!-- Loading Message -->
        <div id="loading" class="loading-message">Loading books...</div>

        <!-- Table -->
        <table id="booksTable" class="styled-table hidden rounded">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>ISBN</th>
                    <th>Author(s)</th>
                    <th>Publisher</th>
                    <th>Publication Year</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>

        <!-- Error Message -->
        <div id="error" class="error-message hidden">Failed to load books. Please try again later.</div>
    </div>

        <!-- Modal -->
        <%- include('../modals/edit_book') %>

        <script src="/scripts/dashboard.js"></script>
        
        <script>
            const books = <%- JSON.stringify(books) %>;
            fillTable(books);
        </script>

</body>
</html>
